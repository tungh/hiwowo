# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

#TEST
GET   /test                                controllers.Test.index

# Home page
GET       /                                     controllers.Pages.index(p:Int =1,size:Int =10)
GET       /hot/$p<[0-9]+>                         controllers.Pages.index(p:Int,size:Int ?=10)
GET       /weixin/$p<[0-9]+>                 controllers.Pages.weixin(p:Int,size:Int ?=10)
GET       /pets/$typeId<[0-9]+>                              controllers.Pages.pets(typeId:Int,p:Int ?=1,size:Int ?=10)
GET       /pics/$p<[0-9]+>                             controllers.Pages.pics(p:Int,size:Int ?=5)



#forum
GET    /forum/search                     controllers.Forums.search
GET    /forum/topic/$id<[0-9]+>             controllers.Forums.view(id:Long,p:Int ?=1,size:Int ?=10)
GET    /forum/topic/edit                       controllers.Forums.edit(id:Long ?=0L)
POST   /forum/topic/save                       controllers.Forums.save
POST   /forum/addDiscuss                  controllers.Forums.addDiscuss
GET    /forum                               controllers.Forums.forum(typeId:Int ?=-1,sortBy:String ?="new",p:Int ?=1,size:Int ?=10)


#diagram
GET   /diagram/$id<[0-9]+>                controllers.Diagrams.diagram(id:Long)
GET   /pic/$id<[0-9]+>                controllers.Diagrams.pic(id:Long)
GET   /diagram/create                     controllers.Diagrams.create
GET   /diagram/edit                       controllers.Diagrams.edit(id:Long ?=0L)
POST  /diagram/save                       controllers.Diagrams.save
POST  /diagram/ajaxSave                   controllers.Diagrams.ajaxSave
POST  /diagram/addLabels                  controllers.Diagrams.addLabels
POST  /diagram/delete                     controllers.Diagrams.delete
POST  /diagram/saveDiscuss                controllers.Diagrams.saveDiscuss
GET   /diagram/getDiscusses               controllers.Diagrams.getDiscusses(diagramId:Long,sortBy:String ?="new",p:Int ?=1)
POST  /diagram/favor                         controllers.Diagrams.favorDiagram
POST  /diagram/disfavor                       controllers.Diagrams.disfavorDiagram
POST  /discuss/favor                         controllers.Diagrams.favorDiscuss
POST  /discuss/disfavor                       controllers.Diagrams.disfavorDiscuss



# user
GET    /welcome/$id<[0-9]+>                                 controllers.users.Users.welcome(id:Long)
GET    /user/$id<[0-9]+>                          controllers.users.Users.home(id:Long)
GET    /user/$id<[0-9]+>/follow                   controllers.users.Users.follow(id:Long,p:Int ?=1,size:Int ?=10)
GET    /user/$id<[0-9]+>/diagrams                   controllers.users.Users.diagrams(id:Long,p:Int ?=1,size:Int ?=10)
GET    /user/$id<[0-9]+>/collects                   controllers.users.Users.collects(id:Long,p:Int ?=1,size:Int ?=10)
GET    /user/$id<[0-9]+>/subscribes                   controllers.users.Users.subscribes(id:Long,p:Int ?=1,size:Int ?=10)

# user 账号设定
GET   /user/account/base           controllers.users.UsersAccount.base
POST  /user/account/saveBase         controllers.users.UsersAccount.saveBase
GET   /user/account/password           controllers.users.UsersAccount.password
POST  /user/account/modifyPassword     controllers.users.UsersAccount.modifyPassword
GET   /user/account/address           controllers.users.UsersAccount.address
POST  /user/account/saveAddr          controllers.users.UsersAccount.saveAddress
GET   /user/account/myAward           controllers.users.UsersAccount.myAward
GET   /user/account/vip               controllers.users.UsersAccount.vip

# user 操作
POST    /user/addCollect                 controllers.users.Users.addCollect
POST    /user/removeCollect              controllers.users.Users.removeCollect
POST    /user/addSubscribe               controllers.users.Users.addSubscribe
POST    /user/removeSubscribe            controllers.users.Users.removeSubscribe
POST    /user/addFollow                  controllers.users.Users.addFollow
POST    /user/removeFollow               controllers.users.Users.removeFollow


#user 用户登录注册
GET   /user/login                    controllers.users.UsersRegLogin.login
GET   /user/logout                   controllers.users.UsersRegLogin.logout
POST   /user/doEmailLogin             controllers.users.UsersRegLogin.doEmailLogin
POST   /user/dialogEmailLogin             controllers.users.UsersRegLogin.dialogEmailLogin
GET   /user/regist                    controllers.users.UsersRegLogin.regist(i:Long ?=0)
POST  /user/doRegist                    controllers.users.UsersRegLogin.doRegist
GET   /user/resetPassword              controllers.users.UsersRegLogin.resetPassword
POST  /user/checkEmailExist          controllers.users.UsersRegLogin.checkEmailExist

#user sns 第三方登录注册
GET   /user/snsLogin                            controllers.users.UsersSnsLogin.snsLogin(snsType:String,backType:String ?="syn",i:Long ?=0)
GET   /user/:snsType/registed/:backType/:i      controllers.users.UsersSnsLogin.registed(snsType:String,code:String,backType:String,i:Long)

#user   用户消息
GET     /user/msg/system          controllers.users.UsersMsg.system(p:Int)
GET     /user/msg/at          controllers.users.UsersMsg.at

#常用的upload
POST    /uploadDiagramPic                      controllers.Upload.uploadDiagramPic
POST    /editor/uploadPic               controllers.Upload.uploadEditorPic
POST   /uploadPic/select                  controllers.Upload.uploadImageSelectPic
POST   /user/account/doUploadPic          controllers.Upload.doUploadUserPic
POST  /getVideo                           controllers.Upload.getVideo

#info 信息页面 新年 公告，帮助中心
GET   /agreement                                       controllers.Infos.agreement
GET   /aboutUs                                         controllers.Infos.aboutUs
GET   /contactUs                                       controllers.Infos.contactUs
GET   /friends                                         controllers.Infos.friends
GET   /help                                            controllers.Infos.help
GET   /cooperation                                     controllers.Infos.cooperation
GET   /sitemap                                         controllers.Infos.siteMap
GET   /credits                                         controllers.Infos.credits
GET   /jiucuo                                          controllers.Infos.jiucuo





#管理后台 管理员管理

GET   /admin/logout              controllers.admin.Admin.logout
GET   /admin/index                controllers.admin.Admin.index

#管理后台  讨论管理
GET   /admin/forums/topics           controllers.admin.Forums.topics(p:Int ?=1,size:Int ?=50)
GET   /admin/forums/delete         controllers.admin.Forums.delete(id:Long)
GET   /admin/forums/check          controllers.admin.Forums.check(id:Long,state:Int ?=1)
GET   /admin/forums/discusses         controllers.admin.Forums.discusses(p:Int ?=1,size:Int ?=50)
GET   /admin/forums/deleteDiscuss          controllers.admin.Forums.deleteDiscuss(id:Long)
GET   /admin/forums/checkDiscuss          controllers.admin.Forums.checkDiscuss(id:Long,state:Int ?=1)
GET  /admin/forums/filterTopics       controllers.admin.Forums.filterTopics
POST /admin/forums/batchTopics       controllers.admin.Forums.batchTopics
GET  /admin/forums/filterDiscusses       controllers.admin.Forums.filterDiscusses
POST /admin/forums/batchDiscusses       controllers.admin.Forums.batchDiscusses

#管理后台  图说管理
GET   /admin/diagrams/list           controllers.admin.Diagrams.list(p:Int ?=1,pageSize:Int ?=20)
GET   /admin/diagrams/edit/$id<[0-9]+>         controllers.admin.Diagrams.edit(id:Long,msg:String ?="")
GET  /admin/diagrams/filter            controllers.admin.Diagrams.filter
POST   /admin/diagrams/delete         controllers.admin.Diagrams.delete
POST   /admin/diagrams/check          controllers.admin.Diagrams.check
POST /admin/diagrams/batch             controllers.admin.Diagrams.batch
POST  /admin/diagrams/saveDiagram       controllers.admin.Diagrams.saveDiagram
POST  /admin/diagrams/saveDiagramPics     controllers.admin.Diagrams.saveDiagramPics


#管理后台 标签管理
GET   /admin/labels/list           controllers.admin.Labels.list(p:Int ?=1,pageSize:Int ?=20)
GET   /admin/labels/core           controllers.admin.Labels.core(p:Int ?=1,pageSize:Int ?=100)
GET   /admin/labels/filter            controllers.admin.Labels.filter
GET   /admin/labels/edit          controllers.admin.Labels.edit(id:Long ?=0L)
POST  /admin/labels/save              controllers.admin.Labels.save
POST   /admin/labels/delete         controllers.admin.Labels.delete
POST   /admin/labels/check          controllers.admin.Labels.check
POST  /admin/labels/batch             controllers.admin.Labels.batch
GET   /admin/labels/groups           controllers.admin.Labels.groups(p:Int ?=1,pageSize:Int ?=20)
GET   /admin/labels/editGroup        controllers.admin.Labels.editGroup(id:Long ?=0L)
POST   /admin/labels/saveGroup        controllers.admin.Labels.saveGroup
POST   /admin/labels/deleteGroup      controllers.admin.Labels.deleteGroup

GET    /admin/labels/groupLabels       controllers.admin.Labels.groupLabels(gid:Long)
POST   /admin/labels/addGroupLabel     controllers.admin.Labels.addGroupLabel
POST   /admin/labels/deleteGroupLabel  controllers.admin.Labels.deleteGroupLabel

GET   /admin/labels/labelDiagrams/$labelId<[0-9]+>      controllers.admin.Labels.labelDiagrams(labelId:Long,p:Int ?=1,pageSize:Int ?=50)
GET   /admin/labels/filterLabelDiagrams                 controllers.admin.Labels.filterLabelDiagrams
POST  /admin/labels/batchLabelDiagrams                 controllers.admin.Labels.batchLabelDiagrams



#管理后台 用户管理
GET  /admin/users/users            controllers.admin.Users.users(p:Int ?=1,size:Int ?=50)
GET  /admin/users/black           controllers.admin.Users.black(uid:Long)
GET  /admin/users/edit            controllers.admin.Users.edit(uid:Long)
GET  /admin/users/view            controllers.admin.Users.view(uid:Long)
GET  /admin/users/filterUsers       controllers.admin.Users.filterUsers
POST /admin/users/batchUsers       controllers.admin.Users.batchUsers

#管理后台 内容管理
GET   /admin/cmses/list           controllers.admin.Cmses.list(p:Int ?=1,size:Int ?=20)
GET   /admin/cmses/edit           controllers.admin.Cmses.edit(id:Long ?=0l)
POST  /admin/cmses/save           controllers.admin.Cmses.save
POST  /admin/cmses/delete         controllers.admin.Cmses.delete

#管理后台 广告管理
GET   /admin/adverts/list           controllers.admin.Adverts.list(p:Int ?=1,size:Int ?=20)
GET   /admin/adverts/edit           controllers.admin.Adverts.edit(id:Long ?=0l)
POST  /admin/adverts/save           controllers.admin.Adverts.save
POST  /admin/adverts/delete         controllers.admin.Adverts.delete

#管理后台 站内信管理
GET   /admin/msgs/editSystemMsg       controllers.admin.Msgs.editSystemMsg(id:Long ?=0)
POST  /admin/msgs/saveSystemMsg       controllers.admin.Msgs.saveSystemMsg
GET   /admin/msgs/filterSystemMsgs     controllers.admin.Msgs.filterSystemMsgs
POST   /admin/msgs/batchSystemMsgs       controllers.admin.Msgs.batchSystemMsgs
GET   /admin/msgs/systemMsgs          controllers.admin.Msgs.systemMsgs(p:Int ?=1)
GET   /admin/msgs/systemMsgReceivers   controllers.admin.Msgs.systemMsgReceivers(p:Int ?=1)
GET   /admin/msgs/atMsgs              controllers.admin.Msgs.atMsgs(p:Int ?=1)
GET   /admin/msgs/favorMsgs              controllers.admin.Msgs.favorMsgs(p:Int ?=1)
GET   /admin/msgs/discussMsgs              controllers.admin.Msgs.discussMsgs(p:Int ?=1)

# Map static resources from the /public folder to the /assets URL path
GET     /assets/*file               controllers.Assets.at(path="/public/assets", file)
GET     /images/*file               controllers.Assets.at(path="/public/images", file)
GET     /admin/assets/*file         controllers.Assets.at(path="/public/admin/assets", file)
